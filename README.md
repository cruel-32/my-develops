# 차세대 풀스택 개발을 위한 모노레포 아키텍처

이 프로젝트는 **타입 안정성(Type-Safety)**, **개발 생산성**, 그리고 **확장성**에 중점을 두고 설계된 최신 풀스택 웹 애플리케이션의 청사진입니다. `pnpm` 워크스페이스 기반의 모노레포 환경에서 `Next.js`와 `tRPC`를 중심으로 최신 기술 스택을 통합하여 효율적인 개발 및 배포 파이프라인을 구축하는 것을 목표로 합니다.

## 1. 핵심 아키텍처

이 프로젝트는 여러 컴포넌트가 유기적으로 결합된 현대적인 웹 아키텍처를 따릅니다.

### 1.1. 모노레포 (Monorepo)

- **중앙화된 관리**: `pnpm` 워크스페이스를 통해 여러 앱(`web`, `backend`)과 패키지(`ui`, `api` 등)의 의존성을 단일 저장소에서 효율적으로 관리합니다.
- **빌드 최적화**: `Turborepo`를 도입하여 패키지 간의 의존성을 분석하고, 변경되지 않은 코드의 빌드 결과를 캐싱합니다. 이를 통해 전체 빌드 시간을 획기적으로 단축하고 병렬 실행을 통해 CI/CD 파이프라인을 가속화합니다.
- **일관성 있는 개발 환경**: ESLint, Prettier, TypeScript 설정을 `@repo` 패키지로 분리하여 모든 워크스페이스에서 일관된 코드 스타일과 품질을 유지합니다.

### 1.2. 풀스택 타입 안정성 (tRPC)

- **End-to-End Type Safety**: `tRPC`를 통해 백엔드 API의 타입 정의(`Zod` 스키마)를 별도의 코드 생성 과정 없이 프론트엔드에서 그대로 재사용합니다. 이는 API 요청 및 응답 데이터의 타입을 컴파일 시간에 검증할 수 있게 하여 런타임 에러를 사전에 방지합니다.
- **뛰어난 개발 경험**: API를 마치 타입스크립트 함수처럼 자동 완성 기능을 활용하여 호출할 수 있어 개발 생산성이 극대화됩니다. API 변경 시, 이를 사용하는 모든 프론트엔드 코드가 즉시 타입 에러를 발생시켜 변경 사항을 추적하기 용이합니다.

### 1.3. 프론트엔드 (Next.js & Feature-Sliced Design)

- **서버 중심 렌더링**: `Next.js`의 App Router를 기반으로 React Server Components (RSC)를 적극적으로 활용하여 서버에서 UI를 렌더링하고, 클라이언트에는 최소한의 JavaScript만 전송하여 초기 로딩 성능을 최적화합니다.
- **Feature-Sliced Design (FSD) 아키텍처**: 프로젝트의 유지보수성과 확장성을 극대화하기 위해 FSD 방법론을 아키텍처의 근간으로 삼았습니다. FSD는 프론트엔드 애플리케이션을 **레이어(Layers)**, **슬라이스(Slices)**, **세그먼트(Segments)** 라는 명확한 기준으로 구조화합니다.
  - **Layers**: `app`, `pages`, `widgets`, `features`, `entities`, `shared` 와 같이 미리 정의된 6개의 계층으로 구성됩니다. 상위 레이어는 하위 레이어에만 의존할 수 있어, 코드의 의존성 흐름을 명확하고 예측 가능하게 만듭니다.
  - **Slices**: 각 레이어를 비즈니스 도메인(예: `user`, `post`)에 따라 분리하여 기능의 응집도를 높이고 다른 기능과의 결합도를 낮춥니다.
  - **Segments**: 슬라이스 내부를 `ui`, `model`, `api`, `lib` 등 기술적 목적에 따라 나누어 코드의 역할을 명확히 합니다.
- **상태 관리**: `TanStack Query (React Query)`를 사용하여 서버 상태(API 데이터)를 관리하고, 캐싱, 재요청, 낙관적 업데이트(optimistic updates) 등의 고급 기능을 손쉽게 구현합니다.

### 1.4. 백엔드 (Node.js & Express)

- **모듈형 라우터**: `Express.js` 프레임워크 위에서 기능 단위(예: `user`, `project`)로 `tRPC` 라우터를 모듈화하여 구성합니다. 이렇게 분리된 라우터들은 최종적으로 하나의 `appRouter`로 병합되어 API 서버의 유지보수성과 확장성을 확보합니다.
- **인증 및 보안**: `jsonwebtoken (JWT)`을 사용한 토큰 기반 인증 시스템을 구현하며, `bcrypt`를 통해 사용자 비밀번호를 안전하게 해싱하여 관리합니다.
